<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <!-- Bootstrap script -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <!-- Google Font CSS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat+Alternates:wght@100&family=Poppins:wght@200&display=swap" rel="stylesheet">
    <!-- CSS Connect -->
    <link rel="stylesheet" href="css/style.css">
    <!-- Swiper CDN -->
    <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"
    />

    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    
    <title>Profile Details.</title>
</head>
<body>
    <div class="wrapper d-flex align-items-center justify-content-center">
        <button type="button" class="btn btn-green" data-bs-toggle="modal" data-bs-target="#profile">Profile</button>

        <div class="modal fade" id="profile" tabindex="-1" aria-labelledby="emodal1Label" aria-hidden="true" role="dialog">
            <div class="modal-dialog-centered modal-dialog">
                <div class="modal-content">
                    <button type="button" data-bs-dismiss="modal" aria-label="Close" class="modal-close"><img src="images/circle-close.png" alt=""></button>
                    <div class="modal-body">
                        <div class="modal-heading">
                            <h6>Profile Details.</h6>
                            <p>Seller Account.</p>
                        </div>
                        <div class="profile-header">
                            <div class="profile-image-container">
                                <img src="images/logo-placeholder.jpg" alt="Firm Picture">
                                <button class="edit-button" style="display: none;">Edit</button>
                            </div>
                            <h1>Firm Name</h1>
                            <button type="submit" class="btn btn-green" id="edit_btn">Edit</button>
                        </div><br>
                        <div class="modal-content-block">
                            <div class="profile_details">   
                            <p><span>License Number:</span></p><br>
                            <p><span>GST Number:</span></p><br>
                            <p><span>Associated with:</span></p><br>
                            <p><span>Email ID:</span></p><br>
                            <p><span>Username:</span></p><br>
                            <p><span>Contact:</span></p><br>
                            <p><span>Telephone:</span></p><br>
                            <p><span>Address:</span></p><br>
                            <p><span>Pincode:</span></p><br>
                            <p><span>Website:</span></p><br>
                            <p><span>Country/Region:</span></p><br>
                            <p><span>Firm Category:</ssspan></p><br>
                            </div>    
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <nav>
            
            <a href="#"><span><img src="images/icon-1.png" alt=""></span>Expert Advice</a>
            <a href="#"><span><img src="images/icon-2.png" alt=""></span>My Request</a>
            <a href="index.html" class="logo"><span><img src="images/logo.png" alt=""></span>Home</a>
            <a href="#"><span><img src="images/icon-3.png" alt=""></span>Subsidy</a>
            <a href="#"><span><img src="images/icon-3.png" alt=""></span>3D View</a>
        </nav>
    </footer>

    <!-- Add functionality to the edit button -->
    <script>
    const editButton = document.querySelector('.edit_btn');
    editButton.addEventListener('click', () => {
        editButton.style.display = 'none';
        editButton.style.display = 'block';

        // Get profile details container and edit button elements
        const profiledetails = document.querySelector('.profile_details');
        const editButton = document.querySelector('.edit_btn');

        // Add event Listener to the edit button
        editButton.addEventListener('click', () => {
            // Get all the details paragraph tag and create input elements for them
            const detailParas = profiledetails.querySelectorAll('p');
            detailParas.forEach(p => {
                const input = document.createElement('input');
                input.text = 'text';
                input.value = p.lastElementChild.textContent;
                p.replaceChild(input, p.lastElementChild);
            });

            // Change edit button to save the profile details
            editButton.textContent = 'Save';

            // Add event Listeners to edit button which will save the profile details and toggle back to static profile
            editButton.addEventListener('click', () => {
                // Get all input elements and replace them with input text content
                const input = profiledetails.querySelectorAll('input');
                inputs.forEach(input => {
                    const span = document.createElement('span');
                    span.textContent = input.value;
                    input.parentNode.replaceChild(span, input);
                });

                // Change edit button back to "Edit"
                editButton.textContent = 'Edit';

            });
        });


        console.log('Edit button clicked');
    });

    // Editing Firm Picture

    const profileImageContainer = document.querySelector('.profile-image-container');
    const editButtons = document.querySelector('.edit-button');

    profileImageContainer.addEventListener('mouseenter', () => {
        editButtons.style.display = 'block';
    });

    profileImageContainer.addEventListener('mouseleave', () => {
        editButtons.style.display = 'none';
    });
    </script>

    <!-- JS -->
    <script type="module" src="js/custom.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery-3.6.4.js" integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E=" crossorigin="anonymous"></script>
    <!-- Swiper ES -->
    <script type="module">
        import Swiper from 'https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.esm.browser.min.js'
    
        const swiper = new Swiper()
    </script>
</body>
</html>